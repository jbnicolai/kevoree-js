var AbstractNode        = require('kevoree-entities').AbstractNode,
    AdaptationEngine    = require('./lib/AdaptationEngine');

var JavascriptNode = AbstractNode.extend({
  toString: 'JavascriptNode',

  construct: function () {
    this.adaptationEngine = new AdaptationEngine(this);
  },

  start: function (_super) {
    _super.call(this);
    this.adaptationEngine.setLogger(this.getKevoreeCore().getLogger());
  },

  /**
   * Process traces in order to do the adaptation logic on the current node
   * @param traces diff traces generated by comparing current KevoreeCore model and given model
   * @param model toDeploy model used by KevoreeCore to generate the trace
   * @returns {Array}
   */
  processTraces: function (traces, model) {
    return this.adaptationEngine.processTraces(traces, model);
  }
});

module.exports = JavascriptNode;